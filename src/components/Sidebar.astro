---
let res = await fetch('https://www.polar.croop.cl/wp-json/acf/v2/options');
let posts = await res.json();
let anuncios = posts.acf.anuncios_laterales;
---

<div
  class="md:col-span-3 col-span-12 hidden md:grid lg:grid gap-2 px-4 items-center flex-col justify-center"
>
  <div id="tv" class="bg-black p-3 pb-7 rounded-md my-1">
    <div class="flex flex-row justify-between items-center">
      <img src="static/logopolartv.png" alt="" class="w-20" />
      <div class="flex flex-row items-center">
        <i class="rounded-full bg-red-600 w-3 h-3 block mx-2"></i>
        <p class="text-white">En Vivo</p>
      </div>
    </div>
    <div class="embed-container">
      <video
        id="my-video"
        class="video-js vjs-theme-sea"
        controls
        preload="auto"
        width="640"
        height="268"
        poster="<?php bloginfo('template_directory'); ?>/img/thumb-envivo.jpg"
        data-setup='{"fluid": true}'
      >
        <source
          src="https://mediacpstreamchile.com:1936/radiopolar2/radiopolar2/playlist.m3u8"
          type="application/x-mpegURL"
        />
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and consider upgrading to
          a web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank"
            >supports HTML5 video</a
          >
        </p>
      </video>
    </div>
  </div>

  <div class="flex flex-col items-center gap-4 mt-6">
    {
      anuncios.map((post: any) => (
        <div class="noticia relative h-auto mb-3">
          <a href={post.url} class="p-2 bg-gray-300 w-full flex">
            <img src={post.banner} class="w-full object-cover" />
          </a>
        </div>
      ))
    }
  </div>
</div>
